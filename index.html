<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8' />
  <title>Life is a marathon, not a sprint</title>

  <link href='vendor/all.css' rel='stylesheet'>
  <link href='packages/core/main.css' rel='stylesheet' />
  <link href='packages/bootstrap/main.css' rel='stylesheet' />
  <link href='packages/timegrid/main.css' rel='stylesheet' />
  <link href='packages/daygrid/main.css' rel='stylesheet' />
  <link href='packages/list/main.css' rel='stylesheet' />
  <script src='packages/core/main.js'></script>
  <script src='packages/interaction/main.js'></script>
  <script src='packages/bootstrap/main.js'></script>
  <script src='packages/daygrid/main.js'></script>
  <script src='packages/timegrid/main.js'></script>
  <script src='packages/list/main.js'></script>
  <link href='vendor/bootstrap.min.css' rel='stylesheet' />
</head>
<body>
  <div id='wrap'>
    <div id="changelog">
      <h2>Changelog</h2>
    </div>
    <div id='external-events'>
      <h4>Tasks</h4>

      <div id='external-events-list'>
      </div>
      <button id='clear-completed-tasks-button' class='btn-primary'
              style='margin-bottom: 10px;font-size: 0.8em'>
        Clear completed
      </button>
      <button id='add-task-button' style='margin-bottom: 10px'>Add task</button>
    </div>

    <div id='calendar'></div>
  </div>

  <link href='index.css' rel='stylesheet' />
  <script src='state-machine.js'></script>
  <script src='index.js'></script>
  <script>
    fetch('https://api.github.com/repos/vfonic/marathon/commits')
      .then(r => r.json()).then(data => {
        var commits = data.map(c => [new Date(c.commit.committer.date), c.commit.message]).slice(0, 10);
        var div = document.getElementById('changelog');
        var commitMessages = commits.map(([date, message]) => date.toLocaleString() + ' - ' + message);
        div.innerHTML = div.innerHTML + commitMessages.join('<br/>')
      })
  </script>
</body>
</html>
